(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-76542615"],{"1dde":function(t,e,n){var a=n("d039"),o=n("b622"),s=n("2d00"),i=o("species");t.exports=function(t){return s>=51||!a((function(){var e=[],n=e.constructor={};return n[i]=function(){return{foo:1}},1!==e[t](Boolean).foo}))}},"254b":function(t,e,n){},2659:function(t,e,n){"use strict";var a=n("254b"),o=n.n(a);o.a},5291:function(t,e,n){},"620c":function(t,e,n){},"65f0":function(t,e,n){var a=n("861d"),o=n("e8b5"),s=n("b622"),i=s("species");t.exports=function(t,e){var n;return o(t)&&(n=t.constructor,"function"!=typeof n||n!==Array&&!o(n.prototype)?a(n)&&(n=n[i],null===n&&(n=void 0)):n=void 0),new(void 0===n?Array:n)(0===e?0:e)}},8123:function(t,e,n){},8418:function(t,e,n){"use strict";var a=n("c04e"),o=n("9bf2"),s=n("5c6c");t.exports=function(t,e,n){var i=a(e);i in t?o.f(t,i,s(0,n)):t[i]=n}},"99af":function(t,e,n){"use strict";var a=n("23e7"),o=n("d039"),s=n("e8b5"),i=n("861d"),r=n("7b0b"),c=n("50c4"),u=n("8418"),l=n("65f0"),d=n("1dde"),f=n("b622"),h=n("2d00"),p=f("isConcatSpreadable"),m=9007199254740991,g="Maximum allowed index exceeded",v=h>=51||!o((function(){var t=[];return t[p]=!1,t.concat()[0]!==t})),y=d("concat"),w=function(t){if(!i(t))return!1;var e=t[p];return void 0!==e?!!e:s(t)},b=!v||!y;a({target:"Array",proto:!0,forced:b},{concat:function(t){var e,n,a,o,s,i=r(this),d=l(i,0),f=0;for(e=-1,a=arguments.length;e<a;e++)if(s=-1===e?i:arguments[e],w(s)){if(o=c(s.length),f+o>m)throw TypeError(g);for(n=0;n<o;n++,f++)n in s&&u(d,f,s[n])}else{if(f>=m)throw TypeError(g);u(d,f++,s)}return d.length=f,d}})},"9c71":function(t,e,n){"use strict";var a=n("8123"),o=n.n(a);o.a},"9d29":function(t,e,n){"use strict";var a=n("5291"),o=n.n(a);o.a},"9f31":function(t,e,n){},b5e5:function(t,e,n){"use strict";var a=n("9f31"),o=n.n(a);o.a},c83f:function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"d-flex flex-column vh-100"},[n("div",{staticClass:"page py-4",staticStyle:{"overflow-x":"hidden"}},[n("div",{ref:"iphone",staticClass:"iphoneframe-container"},[n("router-link",{attrs:{to:"/account"}},[n("BackButton")],1),n("transition",{attrs:{name:"fade-top"}},[n("PreviewCardWithIphoneFrame",{directives:[{name:"show",rawName:"v-show",value:t.showPreview,expression:"showPreview"}],staticClass:"w-100",attrs:{image:t.previewCardImage,title:t.previewCardTitle,titleMyan:t.previewCardTitleMyan,desc:t.previewCardDesc,descMyan:t.previewCardDescMyan,isFindOther:!0,isContactUs:!0,type:"message",firstButtonText:"Not happy",secondButtonText:"Just Ok",thirdButtonText:"Very happy"}})],1),t.showPreview?n("div",{staticClass:"mt-4 w-100 d-flex justify-content-center"},[n("button",{staticClass:"btn btn-circle",staticStyle:{width:"40px",height:"40px",background:"#B7B7B7"},on:{click:function(e){t.showPreview=!1}}},[n("CloseIcon",{staticClass:"close-icon"})],1)]):t._e(),n("div",{staticClass:"mt-4 w-100 title"},[n("StageTitle",{attrs:{stageNum:"3",title:t.stageInfoText.title,desc:t.stageInfoText.desc}})],1),n("div",{staticClass:"mt-4 w-100 p-3"},[n("AddedForm",{attrs:{info:t.info,type:"message"},on:{add:t.addThankYouMessage,uploadPhoto:t.uploadPhoto},model:{value:t.thankyouInfo,callback:function(e){t.thankyouInfo=e},expression:"thankyouInfo"}})],1),n("div",{staticClass:"w-100 d-flex justify-content-center"},[n("div",{staticClass:"d-flex flex-center btn btn-primary",on:{click:function(e){return t.Preview()}}},[n("EyeIcon",{staticClass:"eye-icon"}),n("span",{staticClass:"ml-1"},[t._v("Preview")])],1)]),n("div",{staticClass:"mt-2 w-100 p-4"},[n("MobileToggle",{attrs:{title:t.toggles.askCustomerInfomation.title,desc:t.toggles.askCustomerInfomation.desc},on:{change:t.addShopNature},model:{value:t.isEnabledAskCustomerInfo,callback:function(e){t.isEnabledAskCustomerInfo=e},expression:"isEnabledAskCustomerInfo"}})],1),n("div",{staticClass:"mt-2 w-100 d-flex flex-center"},[n("router-link",{attrs:{to:"/account/manageorders"}},[n("ForwardButton",{nativeOn:{click:function(e){return t.$emit("showPage",1)}}})],1)],1)],1)]),n("bottom-navigation-bar"),t.showLoading?n("Loading"):t._e(),t.shopExist?t._e():n("AlertBox",{attrs:{alertInfo:t.alertInfo},on:{goto:function(e){return t.route("/account/contactinfo")}}})],1)},o=[],s=(n("99af"),n("96cf"),n("1da1")),i=n("9223"),r=n("74c9"),c=n("9a80"),u=n("3a5e"),l=n("8a4e"),d=n("d141"),f=n("43a8"),h=n("fdd8"),p=n("a3e4"),m=n("bc3a"),g=n.n(m),v=n("d6df"),y=n("b24e"),w=n("2ef0"),b={components:{PreviewCardWithIphoneFrame:i["a"],StageTitle:f["a"],MobileToggle:h["a"],BackButton:r["a"],ForwardButton:c["a"],Loading:u["a"],AddedForm:p["a"],CloseIcon:l["a"],EyeIcon:d["a"],AlertBox:v["a"],BottomNavigationBar:y["a"]},data:function(){return{showPreview:!1,showLoading:!0,pageActive:!0,messageID:"",isEnabledAskCustomerInfo:!1,photoUploading:!1,previewCardDefaults:{title:"Your feedback is awesome",desc:"Let's us know your feedback on our service.We do appreciate it",image:"https://portalvhdslvb28rs1c3tmc.blob.core.windows.net/yammo/allstaricon/picture.png"},stageInfoText:{title:"'Thank you' message",desc:"Fill your contact information once"},toggles:{askCustomerInfomation:{title:"Ask Customer Information",desc:"Enable this option will ask the customer name, contact number and address."}},thankyouInfo:{title:"",desc:"",image:"",titleMyan:"",descMyan:""},info:{title:"Type 'Thank you' title (Eng)",titleMyan:"Type 'Thank you' title (Myan)",desc:"Type 'Thank you' message (Eng)",descMyan:"Type 'Thank you' message (Myan)",photoText:"add 'thank you' image",type:"ThankYouMessage",buttons:[{title:"Track my order"},{title:"Find related more"},{title:"Find other"}]},alertInfo:{title:"Alert",msg:"To fill your Thank You information,you need to add contact information first.",buttons:[{text:"Add Shop",action:"goto"}]}}},methods:{addThankYouMessage:Object(w["debounce"])(Object(s["a"])(regeneratorRuntime.mark((function t(){var e,n,a=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e=this.validateForm(),e){t.next=3;break}return t.abrupt("return");case 3:if(n={Guid:this.messageID,Title:this.thankyouInfo.title,Message:this.thankyouInfo.desc,ShopGuid:this.shopID},""!=this.messageID){t.next=9;break}return t.next=7,g.a.post("message/upsert",n).then((function(t){a.messageID=t.data}));case 7:t.next=11;break;case 9:return t.next=11,g.a.put("message/upsert",n);case 11:case"end":return t.stop()}}),t,this)}))),3e3),uploadPhoto:function(t){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function n(){var a;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(a={Guid:e.messageID,Photo:t,ShopGuid:e.shopID},e.photoUploading=!0,""!=e.messageID){n.next=7;break}return n.next=5,g.a.post("message/uploadphoto",a).then((function(t){e.photoUploading=!1,e.messageID=t.data}));case 5:n.next=9;break;case 7:return n.next=9,g.a.put("message/uploadphoto",a).then((function(){e.photoUploading=!1}));case 9:case"end":return n.stop()}}),n)})))()},getMessage:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(""!=t.shopID&&"0"!=t.shopID){e.next=2;break}return e.abrupt("return");case 2:return t.showLoading=!0,e.next=5,g.a.get("messages?shopGuid=".concat(t.shopID,"&customerID=").concat(t.customerID)).then((function(e){null!=e.data&&(t.thankyouInfo.title=e.data.tMessage.Title,t.thankyouInfo.image=e.data.tMessage.PhotoUrl,t.thankyouInfo.desc=e.data.tMessage.Message,t.messageID=e.data.tMessage.Guid,t.isEnabledAskCustomerInfo=e.data.isEnabledAskCustInfo),t.showLoading=!1}));case 5:case"end":return e.stop()}}),e)})))()},addShopNature:Object(w["debounce"])(Object(s["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e={Guid:this.shopID,CustomerID:this.customerID,IsEnabledCustomerInfoForThankUMessage:this.isEnabledAskCustomerInfo},t.next=3,g.a.put("shop/shopNatureFromStepThree",e);case 3:case"end":return t.stop()}}),t,this)}))),3e3),validateForm:function(){return""!=this.thankyouInfo.title||""!=this.thankyouInfo.desc||""!=this.thankyouInfo.image},Preview:function(){this.$refs.iphone.scrollIntoView(),this.showPreview=!0},route:function(t){this.$router.push(t)}},mounted:function(){this.getMessage()},watch:{shopID:function(){this.getMessage()}},computed:{shopExist:function(){return"0"!=this.shopID},previewCardTitle:function(){return this.thankyouInfo.title?this.thankyouInfo.title:this.previewCardDefaults.title},previewCardDesc:function(){return this.thankyouInfo.desc?this.thankyouInfo.desc:this.previewCardDefaults.desc},previewCardTitleMyan:function(){return this.thankyouInfo.titleMyan?this.thankyouInfo.titleMyan:this.previewCardDefaults.title},previewCardDescMyan:function(){return this.thankyouInfo.descMyan?this.thankyouInfo.descMyan:this.previewCardDefaults.desc},previewCardImage:function(){return this.thankyouInfo.image?this.thankyouInfo.image:this.previewCardDefaults.image},shopID:function(){return this.$store.state.shopID},customerID:function(){return this.$store.state.customerID}}},k=b,I=(n("9d29"),n("e6e3"),n("2877")),x=Object(I["a"])(k,a,o,!1,null,"1307f9c6",null);e["default"]=x.exports},d6df:function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"overlay"},[n("div",{staticClass:"alert-box d-flex flex-column"},[n("div",{staticClass:"d-flex title"},[n("span",[t._v(t._s(t.alertInfo.title))])]),n("div",{staticClass:"d-flex description"},[n("span",[t._v(t._s(t.alertInfo.msg))])]),n("div",{staticClass:"d-flex flex-column buttons"},t._l(t.alertInfo.buttons,(function(e,a){return n("button",{key:a,staticClass:"btn btn-add mb-3",class:{"btn-goback":"back"==e.action},on:{click:function(n){return t.$emit(e.action)}}},[t._v(" "+t._s(e.text)+" ")])})),0)])])},o=[],s={props:{alertInfo:{type:Object}}},i=s,r=(n("2659"),n("2877")),c=Object(r["a"])(i,a,o,!1,null,"0aa19afc",null);e["a"]=c.exports},e6e3:function(t,e,n){"use strict";var a=n("620c"),o=n.n(a);o.a},e8b5:function(t,e,n){var a=n("c6b6");t.exports=Array.isArray||function(t){return"Array"==a(t)}},fdd8:function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"d-flex justify-content-between w-100",on:{click:t.toggle}},[n("div",{staticClass:"mr-2"},[n("span",{staticClass:"title"},[t._v(t._s(t.title))]),n("br"),n("div",{staticClass:"desc"},[t._v(t._s(t.desc))])]),n("toggle-button",{staticClass:"mt-1",attrs:{color:"#377EF9",value:t.value,sync:"",disabled:"",width:42,height:25,margin:2}})],1)},o=[],s={props:{title:String,desc:String,value:{type:Boolean,default:!1}},methods:{toggle:function(){this.$emit("input",!this.value),this.$emit("change")}}},i=s,r=(n("b5e5"),n("9c71"),n("2877")),c=Object(r["a"])(i,a,o,!1,null,"27a3a6be",null);e["a"]=c.exports}}]);
//# sourceMappingURL=chunk-76542615.21a16597.js.map